[
    {
        "brief": "规则",
        "page": "<div><p>高自由度的象棋游戏：<b>憨憨战棋</b></p><ul><li>每回合都能让全部棋子行动</li><li>创建棋子、升级棋子</li><li>传统棋类的策略与博弈</li><li>多样化的棋盘与自定义地图</li></ul><p><b>规则</b>条目会介绍这种棋的下法。</p></div>",
        "entry": [
            {
                "brief": "概述",
                "entry": [
                    {
                        "type": "map",
                        "url": "GameSample",
                        "page": "<p>在这个游戏中，双方玩家各控制一支棋子军团，轮流进行回合。创建、移动、升级棋子，并争取占领更多的<b>城市</b>。</p><p>吃子可以增加己方的<b>EXP</b>。以战养战，积攒EXP来升级棋子。</p><p>将对方的棋子全部赶出对方<b>主城</b>即可获得胜利。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "Phase",
                        "page": "<p>每个回合，玩家选择一项在本回合进行的操作：</p><ul><li>Move: 让自己的<b>每个棋子</b>都获得一次行动机会。</li><li>Spawn: 在自己占领着的未满<b>城市</b>中创建一个<b $chess>🗡步兵</b>。</li></ul><p>操作结束后，进入回合的最后阶段Upgrade：玩家可以选择一些友方棋子，使用EXP升级。</p>"
                    },
                    {
                        "type": "map",
                        "url": "SpawnRule",
                        "page": "<p>棋盘上有一些特殊的格子，由它们构成的极大连通块称为<b>城市</b>。</p><p>当城市中只包含某一方玩家的棋子时，此玩家<b>占领</b>着这座城市，可以通过Spawn创建军队。</p><p>如图所示，图中有三座城市，只有最上方的城市被红方占领。</p>"
                    },
                    {
                        "type": "map",
                        "url": "CapitalEmpty",
                        "page": "<p>玩家初始时拥有一座关键的城市，即<b>主城</b>。</p><p>结束回合后，如果<b>己方主城内没有己方棋子</b>，则判定为<b>失败</b>。</p><p>请注意，这是严格且唯二的胜负判定条件。(另一种是投降)</p>"
                    },
                    {
                        "type": "map",
                        "url": "MapSample",
                        "page": "<p>棋盘没有固定的布局。任何符合规则的棋盘都能用来对弈。</p><p>棋盘的长和宽、城市的位置、双方的初始棋子都可以自定义。双方玩家在商量好的棋盘上对弈。</p><p>基于这种棋的规则，初始布局的\"相位\"对局势影响不大，使得高自由度的棋盘成为可能。</p>"
                    }
                ]
            },
            {
                "brief": "棋子介绍",
                "entry": [
                    {
                        "type": "map",
                        "url": "GridList",
                        "page": "<p>玩家可以控制的棋子有四种：</p><ul type=\"square\"><li><b $chess>🗡 步兵</b>\t(掉落EXP:1)</li><li><b $chess>➳ 弓箭手</b>\t(掉落EXP:1)</li><li><b $chess>♞ 骑兵</b>\t(掉落EXP:2)</li><li><b $chess>💣 火炮</b>\t(掉落EXP:2)</li></ul><p>棋子有着互不相同的行动规则。</p><p>此外，棋盘上还有<b>中立军队</b>，会在特定状况下攻击玩家的棋子。</p>"
                    },
                    {
                        "type": "map",
                        "url": "Upgrade",
                        "page": "<p>在Upgrade阶段，可以花费EXP为己方棋子<b>升级</b>。</p><p>棋子级别从低到高为：<b $chess>🗡步兵</b>、<b $chess>➳弓箭手</b>、<b $chess>♞骑兵</b>、<b $chess>💣火炮</b>。每升一级，花费1EXP。</p><p>特别的，将棋子升级为<b $chess>💣火炮</b>有额外条件：该棋子在<b>本回合</b>的Upgrade阶段前必须是<b $chess>🗡步兵</b>。</p>"
                    },
                    {
                        "type": "map",
                        "url": "PawnMove",
                        "page": "<p><b $chess>🗡步兵</b>是最基础的军队，可以移动到棋盘上有邻边的格子中。Spawn操作创建的就是步兵。</p><p><i>棋子的行动在Move阶段进行。如果选择在回合中执行Move，那么当回合不能Spawn。</i></p><p>任何棋子都可执行<b>吃子</b>操作：如果移动到的格子中有其他棋子，则将其消灭。</p>"
                    },
                    {
                        "type": "map",
                        "url": "ArcherMove",
                        "page": "<p><b $chess>➳弓箭手</b>由步兵升级而来，可以移动到对角相邻的格子中。</p><p><i>可以发现，高级棋子相较于步兵并没有严格的优势，最好仅在战术需要的时候升级棋子。</i></p><p><i>行动不是必须的。在Move阶段，可以指定任意数量的己方棋子以任意顺序移动。</i></p>"
                    },
                    {
                        "type": "map",
                        "url": "KnightMove",
                        "page": "<p><b $chess>♞骑兵</b>由弓箭手升级而来，移动规则和国际象棋中的骑士类似。</p><p>骑兵在任何情况下都可以移动，不受相邻棋子影响，并不是中国象棋中的马。</p><p><i>规则允许吃己方棋子。</i></p>"
                    },
                    {
                        "type": "map",
                        "url": "TowerAttack",
                        "page": "<p><b $chess>💣火炮</b>非常特殊，必须由步兵<b>在一回合中</b>连续升级3次来获取。</p><p>火炮的行动规则也很特殊，每个行动回合需要选择<b>开火</b>或<b>移动</b>。</p><p>如果选择<b>开火</b>，火炮会消灭图示十字范围内的<b>非己方</b>棋子。</p>"
                    },
                    {
                        "type": "map",
                        "url": "TowerMove",
                        "page": "<p>如果要让<b $chess>💣火炮</b>移动，需要额外支付1EXP。(选择开火不会花费EXP)</p><p>火炮的<b>移动</b>和步兵相同，可以移动到棋盘上有邻边的格子中。移动也可以正常吃子。</p><p>在一回合中，火炮只能在开火或移动中选择至多一项。</p>"
                    },
                    {
                        "type": "map",
                        "url": "LootExp",
                        "page": "<p><b>消灭棋子</b>会获得1或2EXP。以下列举的是棋子<b>被消灭</b>时掉落给攻击方的EXP。</p><ul type=\"square\"><li><b $chess>🗡 步兵</b>\t(掉落EXP:1)</li><li><b $chess>➳ 弓箭手</b>\t(掉落EXP:1)</li><li><b $chess>♞ 骑兵</b>\t(掉落EXP:2)</li><li><b $chess>💣 火炮</b>\t(掉落EXP:2)</li><li><b>中立军队</b>\t(掉落EXP:1)</li></ul><p>这是EXP的唯一获取方式。</p>"
                    }
                ]
            },
            {
                "brief": "中立军队",
                "entry": [
                    {
                        
                        "type": "map",
                        "url": "NeutralSample",
                        "page": "<p><b>中立军队</b>是一些初始就在棋盘上的棋子，<b>它们只在轨道中活动</b>。</p><p>如图所示，绿色棋子是中立军队。棋盘上有蓝色方框的格子是<b>轨道</b>。玩家将棋子移动到轨道上，会引发中立军队的攻击。</p><p>请注意，中立军队的行动判定在每时每刻都会自动进行，没有单独的中立回合。</p>"
                    },
                    {
                        
                        "type": "map",
                        "url": "NeutralAttack",
                        "page": "<p>中立军队的<b>移动</b>规则和<b $chess>🗡步兵</b>类似，可以移动到棋盘上有邻边的<b>轨道</b>格中。</p><p>当且仅当可以<b>直接</b>吃到玩家的棋子时，中立军队会进行移动，并吃子。其他情况下，中立军队不会移动。</p>"
                    },
                    {
                        
                        "type": "map",
                        "url": "NeutralMove",
                        "page": "<p>中立军队可能会检测到多个可攻击的目标，攻击的优先级从高到低为<b>上方、下方、左侧、右侧</b>。</p><p>这个顺序对于多个中立军队攻击同一棋子时也适用。如图下方所示，玩家的棋子会优先受到\"往上方移动\"的攻击，也就是被来自下方的中立军队消灭。</p>"
                    },
                    {
                        
                        "type": "map",
                        "url": "TripleKill",
                        "page": "<p>中立军队的行动判定不限次数，且优先级高，可以在玩家进行下一次操作前连续消灭多个棋子。</p><p>如图左侧所示，如果将<b $chess>🗡步兵</b>移动到轨道上，那么轨道上的三个由(双方)玩家控制的棋子都会被中立军队消灭，变为图右侧的局面。</p>"
                    },
                    {
                        
                        "type": "map",
                        "url": "TrackSample",
                        "page": "<p>请仔细观察轨道的位置，在每次移动棋子前判断清楚会引发哪些中立军队的移动。</p><p>如图所示，图中的<b $chess>➳弓箭手</b>虽然在轨道上，但是与中立军队不相邻；(双方玩家的)其余棋子不在轨道上。因此，图中的状态不会触发中立军队的行动。</p>"
                    },
                    {
                        
                        "type": "map",
                        "url": "NeutralCity",
                        "page": "<p>中立军队可能会占据城市或阻挡道路。<i>选择性地消灭中立军队，获取EXP并占据有利位置。</i></p><p>玩家占领城市的条件是成为城市中的唯一一方。因此，如果要执行Spawn操作，需要消灭相应城市中的全部中立军队。</p><p>城市中的轨道不影响占领。对局中不会生成新的中立军队。</p>"
                    }
                ]
            },
            {
                "brief": "视野限制",
                "entry": [
                    {
                        "type": "map",
                        "url": "MistSample",
                        "page": "<p>在线上对局中，我们加入了<b>视野限制</b>来让游戏更接近真实世界。</p><p>玩家的每个棋子都会提供以自身为中心的5×5视野。玩家可见的范围是己方棋子视野的<b>并集</b>。</p><p>城市和轨道的位置固定，即使在视野范围外也可以标明——但是无法观察到视野外是否存在非己方棋子。</p>"
                    },
                    {
                        "type": "map",
                        "url": "MistChange",
                        "page": "<p>如果玩家的操作使得原本不在视野中的格子进入了视野，称为<b>新信息量</b>。</p><p>Move和Spawn都可能带来新信息量。这在对弈规则中没有影响，但是会限制实际对局操作的<b>撤销</b>功能。</p>"
                    },
                    {
                        "type": "map",
                        "url": "MistSpecial",
                        "page": "<p>额外介绍一种较为复杂的特殊情况：假如把<b $chess>♞骑兵</b>移动到下方后，发现骑兵被吃，丢失了一片视野。这看似是信息量的单调减少，但事实上，这验证了初始视野外的某些格子中存在中立军队，因此也带来了新信息量。</p>"
                    },
                    {
                        "type": "map",
                        "url": "LongCity",
                        "page": "<p>还有一种特殊情况：如果一座城市的范围超出了视野，可以通过Spawn是否有效来判断自己是否占领着城市，知道视野范围外的部分有没有其他棋子。这种在回合开始时判断的情况<b>没有</b>计入新信息量的考虑范围。</p>"
                    }
                ]
            },
            {
                "brief": "例子",
                "entry": [
                    {
                        "type": "map",
                        "url": "Game01",
                        "page": "<p>我们观察某个对局的第一轮来总结规则。</p><p>如图所示，红色方为先手，紫色方为后手。双方都占据了一座初始城市作为主城。两座主城之间有一些中立军队阻挡。</p>"
                    },
                    {
                        "type": "map",
                        "url": "Game02",
                        "page": "<p>首先是先手的回合。在视野范围内，无法观察到对方的棋子。</p><p>本回合先手从Spawn和Move中选择了执行Move操作，并选择将所有棋子均向下移动一步。</p><p>最靠下的<b $chess>🗡步兵</b>消灭中立军队，获得1EXP，接着这个步兵立刻被右侧的中立军队消灭。</p>"
                    },
                    {
                        "type": "map",
                        "url": "Game03",
                        "page": "<p>先手移动了所有棋子，结束Move阶段，进入Upgrade阶段。</p><p>先手选择将一个<b $chess>🗡步兵</b>升级成为<b $chess>➳弓箭手</b>，消耗1EXP，没有剩余EXP，结束回合。</p>"
                    },
                    {
                        "type": "map",
                        "url": "Game04",
                        "page": "<p>轮到后手的回合。</p><p>后手选择执行Spawn操作，在空位处创建了一个<b $chess>🗡步兵</b>。此时主城的每个格子上都有棋子，下回合暂时不能进行Spawn操作了。</p><p>进入后手的Upgrade阶段，没有EXP，结束回合。</p>"
                    },
                    {
                        "type": "map",
                        "url": "Game05",
                        "page": "<p>双方都进行了一个回合，这是本轮结束后的局面。</p><p>事实上，这个棋盘中只有两座城市，双方没有城市数量的差距，也无需抢占有利位置，缺少主动进攻的动力。</p>"
                    }
                ]
            },
            {
                "brief": "常见疑问",
                "entry": [
                    {
                        "type": "map",
                        "url": "CapitalTmplyEmpty",
                        "page": "<p>Q: \"主城内没有己方棋子\"判负，这代表主城中必须<i>每时每刻</i>都有己方棋子吗？</p><p>A: 必须在声明自己的<b>回合结束时</b>保证主城内有己方棋子，否则判负。如图所示，虽然此时的主城为空，但是可以将尚未行动的<b $chess>🗡步兵</b>移动到主城再结束回合，这样不会判负。</p>"
                    },
                    {
                        "type": "map",
                        "url": "ToTower",
                        "page": "<p>Q: 升级到<b $chess>💣火炮</b>有什么条件？</p><p>A: 如图所示，假设本回合执行Spawn，创建一个<b $chess>🗡步兵</b>后进入Upgrade阶段，有充足的EXP，那么能且仅能将两个<b>步兵</b>分别升级到火炮，另外两个<b>在之前的回合中升级过</b>的棋子无法成为火炮。</p>"
                    },
                    {
                        "type": "map",
                        "url": "TowerAttackSample",
                        "page": "<p>Q: <b $chess>💣火炮</b>开火的效果是什么？</p><p>A: 消灭十字范围(总共8格）内的非己方棋子。如图所示，消灭了<b $chess>➳弓箭手</b>、<b $chess>♞骑兵</b>、<b $chess>💣火炮</b>各一个，以及两个<b>中立军队</b>。获得了7EXP。</p><p><i>在网站中，双击火炮来开火。</i></p>"
                    },
                    {
                        "type": "map",
                        "url": "BaoJinBi",
                        "page": "<p>Q: <b $chess>💣火炮</b>为什么动不了？</p><p>A: 火炮可以像步兵一样移动，但是需要支付1EXP。这是除升级外唯一可能的EXP开销。</p><p>TIP: 可以主动消灭自己的棋子。例如，当没有EXP，火炮被敌方弓箭手靠近时，可以主动消灭自己的火炮来获得2EXP。</p>"
                    },
                    {
                        "type": "map",
                        "url": "SightLoss",
                        "page": "<p>Q: 为什么会突然失去一大片视野？对手做了什么？</p><p>A: 消灭玩家棋子的\"凶手\"一般在玩家的视野内。但如果触发了<b>中立军队</b>的行动则有更多可能。<i>另外，如果对手的操作间隔过短，也有可能难以猜出对手的行动。</i></p>"
                    }
                ]
            }
        ]
        
    },
    {
        "brief": "网站使用",
        "page": "<div><p><b>网站使用</b>条目会介绍在这个网站里下棋的具体操作方法。</p><p>这里还可以找到一些常见突发状况与错误的处理办法。</p></div>",
        "entry": [
            {
                "brief": "开始游戏",
                "entry": [
                    {
                        "type": "pic",
                        "url": "CreateRoom",
                        "page": "<p>想要开始一局对战，可以在主界面或侧栏中进入Play页面，点击左上方的Create Room按钮创建游戏房间。</p><p>还可以加入列表中已有的房间。如果显示\"No room at the moment\"，存在没加载出来的可能性，可以试试刷新。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "Start",
                        "page": "<p>在准备好后，点击Start来开始游戏。</p><p>如果房间里没有其他人，Start按钮会变为Bot，可以在房间中加入一个AI对手。</p><p>如果有对手加入了房间，会响起提示音。(音量开关在侧栏)</p>"
                    },
                    {
                        "type": "pic",
                        "url": "SelectMap",
                        "page": "<p>我们准备了一些棋盘——或者说地图，可以选中Select Map，并在下拉框中选择预置地图。</p><p>还可以使用自定义地图。点击\"选择文件\"并上传一份符合规则的<b>地图文件</b>，再点击Upload Custom Map即可。(后续的教程会介绍如何自定义地图)</p>"
                    },
                    {
                        "type": "pic",
                        "url": "Param",
                        "page": "<p>选中Parameters后，可以进行游戏设置。</p><p>Vision代表每个棋子提供的视野范围。∞即关闭视野限制。<br/>Switch first move可以切换双方玩家的先后手。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "Waiting",
                        "page": "<p>如果Users栏中没有显示玩家编号，并有Connecting的提示，说明没有连接上服务器。</p><p>如果等待后没有反应，可以点击Exit，回主界面<b>刷新</b>，再重新创建房间。</p>"
                    }
                ]
            },
            {
                "brief": "对局中",
                "entry": [
                    {
                        "type": "pic",
                        "url": "PhaseChoose",
                        "page": "<p>玩家的回合开始时，首先应选择在本回合进行的操作：</p><ul><li>Move: 让自己的<b>每个棋子</b>都获得一次行动机会。</li><li>Spawn: 在自己占领着的未满<b>城市</b>中创建一个<b $chess>🗡步兵</b>。</li></ul>"
                    },
                    {
                        "type": "map",
                        "url": "MoveSample",
                        "page": "<p>如果选择了Move，玩家可以选中自己的棋子并行动。</p><p>选中要移动的棋子，再点击目标位置，即可移动棋子。本回合移动过的棋子会变暗。</p><p>特别的，如果要让<b $chess>💣火炮</b>开火，需要<b>在选中后再次点击</b>火炮。</p>"
                    },
                    {
                        "type": "map",
                        "url": "SpawnSample",
                        "page": "<p>如果选择了Spawn，玩家可以在每个自己控制的城市中选择一个空位并创建一个<b $chess>🗡步兵</b>。所有可以选中的位置都会高亮显示。</p><p>完成Move或Spawn阶段后，点击Upgrade进入下一阶段，此后就不能再进行之前的操作了。</p>"
                    },
                    {
                        "type": "map",
                        "url": "UpgradeSample",
                        "page": "<p>在Upgrade阶段，可以升级的棋子会高亮显示。每次点击棋子都会支付1EXP并让棋子升一级。</p><p>左图中有两个<b $chess>♞骑兵</b>，只有一个能够升级。可升级的骑兵是在本回合中由<b $chess>🗡步兵</b>升级而来的。</p><p>升级完成后，点击End turn结束回合，等待对手操作。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "GameButton",
                        "page": "<p>棋盘下方有<b>撤销</b>和<b>投降</b>按钮。</p><p>如果你进行了一次操作，且没有产生<b>新信息量</b>，可以点击撤销按钮来悔棋。不能连续撤销。如果无法撤销，按钮会变暗。</p><p>连续点击投降按钮可以认输。如果按钮变为☠️，说明尚未连接到服务器，可以刷新。</p>"
                    }
                ]
            },
            {
                "brief": "账号",
                "entry": [
                    {
                        "type": "pic",
                        "url": "Rick",
                        "page": "<p>Q: 如何注册或登录？</p><p>A: 没有账号系统。现在的玩家识别是基于Cookie实现的。</p><p>(2023.1.14)</p>"
                    }
                ]
            },
            {
                "brief": "常见疑问",
                "entry": [
                    {
                        "type": "map",
                        "url": "Refresh",
                        "page": "<p>Q: 出现了无法理解的错误，不知道怎么办。</p><p>A: 如果<b>等</b>了一段时间仍然没有变化，<b>刷新</b>可能解决很多问题。如果还不行，可以继续尝试：回到主界面再刷新；清除浏览器Cookie。</p>"
                    },
                    {
                        "type": "map",
                        "url": "Refresh",
                        "page": "<p>Q: 屏幕全白。</p><p>A: 重进主界面网址吧OwO。</p><p>Q: 下棋时对手一直不动。</p><p>A: 如果上一页的办法没效果，可能是对手真在挂机，只能投降结束对局了。我们在考虑让长时间不操作的对手进入托管状态。</p>"
                    },
                    {
                        "type": "map",
                        "url": "prison2",
                        "page": "<p>Q: 页面排版非常混乱。</p><p>A: 现在兼容性很差，如果页面大小不合适，会卡出问题。</p>"
                    }
                ]
            }
        ]
    },
    {
        "brief": "更多功能",
        "page": "<div><p>了解网站的<b>更多功能</b>：</p><ul><li>观看正在进行的对局</li><li>创建自己的地图，保存到本机</li><li>复盘，回放历史对局(还没做)</li><li>等级分与锦标赛(还没做)</li></ul></div>",
        "entry": [
            {
                "brief": "观战",
                "entry": [
                    {
                        "type": "pic",
                        "url": "Spectate",
                        "page": "<p>在Play界面中，你可以看到各个玩家的房间，并进入没有满员(1/2)的房间。</p><p>如果满员(2/2)的房间有👁标志，说明正在进行对战，可以点击进入观战。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "Rick",
                        "page": "<p>2023/1/14，观战系统正在完善中。</p>"
                    }
                ]
            },
            {
                "brief": "绘制地图",
                "entry": [
                    {
                        "type": "pic",
                        "url": "CustomMap",
                        "page": "<p>在主界面或侧栏中进入Custom Map页面。在这里，你可以自己绘制地图(棋盘)。</p><p>如果绘制的地图符合规则，<b>能够为每个玩家选定一座城市作为主城</b>，那么可以点击Save将地图保存到本地，这会触发浏览器的下载。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "CustomMap",
                        "page": "<p>具体来说，你需要为正在绘制的格子指定<b>归属方</b>和<b>棋子类型</b>，以及它是否属于<b>城市</b>和<b>轨道</b>。</p><p>你可以在下方的Result标识的右侧看到当前格子的状态。点击棋盘上的某个位置即可将格子放上去。</p>"
                    },
                    {
                        "type": "map",
                        "url": "GridSample",
                        "page": "<p>棋盘有很多属性，请在阅读规则后绘制地图。</p><p>点击棋盘前，请检查Result处是否有<b>城市</b>和<b>轨道</b>的特征，确保绘制出的是想要的结果。</p><p>地图必须保证每一方都有至少一座无对方棋子的城市。主城的设置会在点击Save按钮后进行。</p>"
                    },
                    {
                        "type": "map",
                        "url": "SaveSample",
                        "page": "<p>如图所示，红色棋子有一座可选城市，紫色棋子有两座。点击Save按钮，会出现Please select Capitals的提示。</p><p>接下来，红色方会自动选取唯一的城市作为主城。你需要为紫色方选择主城，点击城市中任意位置即可选中。选择成功后，浏览器会开始下载地图map.json。</p>"
                    },
                    {
                        "type": "pic",
                        "url": "Upload",
                        "page": "<p>在地图绘制页面和游戏房间都可以从本地上传地图。</p><p>此处的地图必须是此页面生成的json文件，否则会引发错误。</p><p>如果对设计地图感兴趣，可以联系我们。平衡性优秀且局势多变的地图会加入到预置地图中。</p>"
                    }
                ]
            }
        ]
    },
    {
        "brief": "策略",
        "page": "<div><p>学习一些游戏中的常用<b>策略</b>。</p></div>",
        "entry": [
            {
                "brief": "攻城",
                "entry": [
                    {
                        "type": "pic",
                        "url": "Rick",
                        "page": "<p>哈哈，呵和。</p><p>感觉加了复盘功能就不需要这个策略栏目了，先空着。</p>"
                    }
                ]
            }
        ]
    }
]